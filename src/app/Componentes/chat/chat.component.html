<div id="frame">
	<div id="sidepanel">
		<div id="profile">
			<div  class="wrap">
				<img id="profile-img" src="assets/perfil.jpg" class="online" alt="" />
				<p>{{username}} </p>
				
				<i class="fa fa-chevron-down expand-button" aria-hidden="true"></i>
			</div>
		</div>

		<div id="contacts">
			<ul>
				<li *ngFor="let user of users;" (click)="clickUsuario(user)" class="contact">
					<div class="wrap">
						<span class="contact-status online"></span>
						<img src="assets/perfil.jpg" alt="" />
						<div class="meta">
							<p class="name" id="nameuser">{{user.username}}</p>
							<p class="preview"></p>
						</div>
					</div>	
				</li>
			</ul>
		</div>
		<!-- BOTON CREAR GRUPOS -->
		<div  id="bottom-bar">
			<button (click)="modal=true" id="addcontact" style="width: 100%">
				<i class="fa fa-user-plus fa-fw" aria-hidden="true"></i>
				<span>Grupo</span>
			</button>
		</div>
	</div>
	<!-- aqui -->
	<div *ngIf="conversando" class="content">
		<div class="contact-profile">
			<img style="width: 40px;
			border-radius: 50%;
			padding: 3px;
			border: 2px solid #1fcf45;
			height: 40px;
			object-fit: cover;" src="/assets/perfil.jpg" alt="" />
			<p>{{conversando.user.username}}</p>
			<p></p>
		</div>
  
		<div class="messages">
			<ul *ngFor="let msj of mensajes;" >
				<div *ngIf='msj.id_usuario == id; then thenBlock else elseBlock'></div>
				<ng-template #thenBlock>
						<li class="sent">
								<h6>{{username}}</h6>
								<img style="width: 40px;
								border-radius: 50%;
								padding: 3px;
								border: 2px solid #1fcf45;
								height: 40px;
								object-fit: cover;" src="/assets/perfil.jpg"  alt="" />
								<p>{{msj.mensajes}}</p>
							</li>				
				</ng-template>
				<ng-template #elseBlock>
						<li class="replies">
								<h6 style="float: right;" >{{conversando.user.username}}</h6>
								<img style="width: 40px;
								border-radius: 50%;
								padding: 3px;
								border: 2px solid #1fcf45;
								height: 40px;
								object-fit: cover;" src="/assets/perfil.jpg" alt="" />					
								<p>{{msj.mensajes}}</p>
							</li>
				</ng-template>			
				
			</ul>
		</div>
		<form (submit)="SendMensaje($event)" >
			<div (submit)="getRequest()" class="message-input">
				<div class="wrap">
					<input type="text" name="msj" id="msj"  placeholder="Escribe tu mensaje..." />
					<i class="fa fa-paperclip attachment" aria-hidden="true"></i>
					<button   id="btnEnviar" class="submit">
						<i class="fa fa-paper-plane" aria-hidden="true"></i>
					</button>
				</div>
			</div>
		</form>
	</div>
	<div *ngIf="modal" class="modal  is-active" >
		<div class="modal-background"></div>
		<div class="modal-content">
			<form (submit)="crearGrupo($event)">
					<label for="">Nombre del grupo</label>
					<input id="grupo" type="text"><br>
					<button  class="btn btn-primary" height="50px" width="50px">Crear</button>
			</form>
		  <!-- Any other Bulma elements you want -->
		</div>
		<button (click)='modal=false' class="modal-close is-large" aria-label="close"></button>
	  </div>



<script src='//production-assets.codepen.io/assets/common/stopExecutionOnTimeout-b2a7b3fe212eaa732349046d8416e00a9dec26eb7fd347590fbced3ab38af52e.js'></script>

<script>$(".messages").animate({ scrollTop: $(document).height() }, "fast");</script>